Import( "env", "dev", "mode", "cpp_release_flags", "cpp_debug_flags" )
localenv = env.Copy()

project = "bulletmath"

#~ if we are on windows we need to tell gcc to bild a windows exe
#~ we need to set -mwindows as a compiler flag

include_path        =   [
                            "#external/bullet"
                        ]

localenv.Append( CPPPATH = include_path)
if mode == "release":
    name = project
    localenv.Append (  
                        CCFLAGS = cpp_release_flags                      
                    )
else:
    name = project + "_d"
    localenv.Append (  
                        CCFLAGS = cpp_debug_flags                      
                    )
    
import sys
if sys.platform == "win32":
    localenv.Tool( "mingw" )
    
tgt = localenv.StaticLibrary(name, dev.DevGetSourceFiles( ".", [ "*.cpp" ] ) )
localenv.Alias(project, tgt)