<!-- This is a comment. -->

<!-- NPC parameters: like, fear - each ranging from 0 to 1.
Here, 0 means 'not at all' and 1 means 'absolutely'. -->

<!-- main skills: charisma, strength, ... - each ranging from 0 to 2.
Here, 1 means 'average'. A nuber like 1.6 would mean 160% of the average (like and IQ of 160). -->

<!-- Intimidation usualy, but not always, results in fear. -->

<!-- Variables can be looked up using '${variable name}'. -->

<!-- '&lt;' means 'less than' and '&gt;' means 'greater than'. -->

<behavior>
	<if active_state="Alive_State" active_alive_state="none">
		<dialog>
			<options>
				<option say="Hello." />
				<if charisma="&gt;1.2">
					<option say="Greetings, my name is ${name}." effect="like" />
				</if>
				<option say="You there!" shout="true" effect="intimidation" />
			</options>
			<reactions>
				<if like="&gt;0.5">
					<reaction say="What can I do for you?" />
				</if>
				<elseif like="&lt;0.2">
					<reaction say="To the death!" shout="true" active_alive_state="Battle_State" />
				</elseif>
				<elseif fear="&gt;0.8">
					<reaction say="I'll do everything you say." />
				</elseif>
				<else>
					<reaction say="Hello." />
				</else>
			</reactions>
		</dialog>
	</if>
	<if active_state="Alive_State" active_alive_state="Chat_State">
		<dialog>
			<options>
				<option say="Where can I find the blacksmith, please?" />
				<option say="Tell me where the blacksmth is. Now!" effect="intimidation" />
			</options>
			<reactions>
				<if fear="&gt;0.6">
					<reaction say="At the market place, next to the temple." />
				</if>
				<else>
					<reaction say="You can find him at the market place, next to the temple." />
				</else>
			</reactions>
		</dialog>
		<dialog>
			<options>
				<option say="Give me that shiny dagger." effect="intimidation" />
			</options>
			<reactions>
				<if fear="&gt;0.8">
					<reaction say="Of course..." />
				</if>
				<else>
					<reaction say="Help, a thief!" shout="true" />
				</else>
			</reactions>
		</dialog>
		<dialog>
			<options>
				<if like="&gt;0.7">
					<option say="Something wrong?" />
				</if>
			</options>
			<reactions>
				<reaction say="Yes, I just have been robbed..." know="robbers" />
			</reactions>
		</dialog>
		<dialog>
			<options>
				<if know="robbers">
					<option say="Don't worry. I'll handle those robbers." />
				</if>
			</options>
			<reactions>
				<reaction say="Thank you!" />
			</reactions>
		</dialog>
		<dialog>
			<options>
				<if know="robbers" have="dagger">
					<option say="Here, your dagger" effect="like" />
				</if>
			</options>
			<reactions>
				<reaction say="Thank you so much..." />
			</reactions>
		</dialog>
		<dialog>
			<options>
				<option say="Bye." />
				<option action="Walk away without saying a word." effect="weird" />
			</options>
			<reactions>
				<reaction say="Bye." active_alive_state="none" />
			</reactions>
		</dialog>
	</if>
	<if active_state="Alive_State">
		<dialog>
			<options>
				<option action="Hit." effect="angry" />
			</options>
			<reactions>
				<reaction action="Hit." active_alive_state="Battle_State" />
			</reactions>
		</dialog>
	</if>
</behavior>
